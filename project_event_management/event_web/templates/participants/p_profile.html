{% extends "layout.html" %}

{% block title %}
Profile
{% endblock %}

{% block content %}
<a href="{% url 'url_p_homepage' %}" class="btn_back"><b>Back</b></a>
<div class="main_profile">
    <div class="ex3">
        <h2 class="ghost" style="color: white;">โปรไฟล์ของคุณ</h2>
    </div>
</div>
<div class="main_profile">
    <div class="profile">
        <div style="display: flex; gap: 15px;">
            <div class="pic_box_profile">
                <img src="/static/pic/dog.jpg" alt="" class="profile_pic">
            </div>
            <div style="align-self: end; padding-bottom: 20px;">
                <h3>{{ user.username }}</h3>
                <h6 style="font-size: 12px;">วันที่เข้าร่วม: {{ user.date_joined |date:"d M Y"}}</h6>
            </div>
        </div>
        <div class="profile_category">
            <button onclick="SwapUserDetail()" class="btn_profile"><b>ข้อมูลส่วนตัว</b></button>
            <button onclick="SwapActivityDetail()" class="btn_profile"><b>กิจกรรมที่ลงทะเบียน</b></button>
        </div>
    </div>
</div>
<div class="main_profile" id="userDetails" style="display: flex; flex-direction: column; align-items: center;">
    <div class="ex3" style="margin-top: 10px; color: white; display: flex;">
        <h3 style="text-align: center;">ข้อมูลส่วนตัว</h3>
        <div style="position: absolute; left: 60%;">
            <a href="{% url 'url_profile_edit' user.id%}" class="btn_edit_user"><b>แก้ไขข้อมูล</b></a>
        </div>
    </div>
    <div class="profile_user_content">
        <div class="box1_profile">
            <div style="display: flex; justify-content: space-between;">
                <div class="box_user">
                    <h5>ชื่อ :</h5>
                    {% if user.first_name == null %}
                    <p>ยังไม่มีข้อมูล</p>
                    {% else %}
                    {{ user.first_name}}
                    {% endif %}
                </div>
                <div class="box_user">
                    <h5>นามสกุล :</h5>
                    {% if user.last_name == null %}
                    <p>ยังไม่มีข้อมูล</p>
                    {% else %}
                    {{ user.last_name}}
                    {% endif %}
                </div>
            </div>
            <div class="box_user">
                <h5>Email :</h5>
                {{ user.email }}
            </div>
            <div class="box_user">
                <h5>เบอร์ติดต่อ :</h5>
                {{ user.phone_number }}
            </div>
            <div class="box_user">
                <label for="">เพศ</label>
                {% if profile.gender == "M" %}
                <p>ชาย</p>
                {% elif profile.gender == "F" %}
                <p>หญิง</p>
                {% elif profile.gender == "O" %}
                <p>LGBT</p>
                {% else %}
                <p>ยังไม่มีข้อมูล</p>
                {% endif %}
            </div>
            <div class="box_user">
                <label for="">อายุ</label>
                {% if profile.age == null %}
                <p>ยังไม่มีข้อมูล</p>
                {% else %}
                {{ profile.age }}
                {% endif %}
            </div>
            <div class="box_user">
                <label for="">วันเกิด</label>
                {% if profile.birthday == null %}
                <p>ยังไม่มีข้อมูล</p>
                {% else %}
                {{ profile.birthday }}
                {% endif %}
            </div>
        </div>
    </div>
</div>
<div class="main_profile" id="activityDetails" style="display: none; flex-direction: column; align-items: center;">
    <div class="ex3" style="margin-top: 10px; color: white; display: flex;">
        <h3 style="text-align: center;">กิจกรรมของฉัน</h3>
    </div>
    <div class="profile_activity_content">
        <div class="box2_profile">

        </div>
    </div>
</div>

{% endblock %}

{% block script %}
<script>
    function SwapUserDetail() {
        document.getElementById('userDetails').style.display = 'flex';
        document.getElementById('activityDetails').style.display = 'none';
    }

    function SwapActivityDetail() {
        document.getElementById('userDetails').style.display = 'none';
        document.getElementById('activityDetails').style.display = 'flex';
    }
</script>
{% endblock %}