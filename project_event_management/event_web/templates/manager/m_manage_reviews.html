{% extends 'manager/m_home.html' %} 
{% load static %}

{% block title %}
    Manage Reviews
{% endblock %}

{% block content %}
  <h1 class="text-center mt-4" style="position: relative; top: 30px; color: white; margin-bottom: 30px;">Manage Reviews</h1>

  <div class="container mt-5">
      <!-- Reviews Section -->
      <div class="card mb-4">
          <div class="card-header bg-info text-white">
              <h4 class="mb-0">Reviews</h4>
          </div>
          <div class="card-body p-0">
              <table class="table table-striped table-bordered mb-0">
                  <thead class="thead-dark">
                      <tr>
                          <th>#</th>  
                          <th>Participant</th>
                          <th>Activity</th>
                          <th>Description</th>
                          <th>Score</th>
                          <th>Created At</th>
                          <th>Action</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% if reviews %}
                          {% for review in reviews %}
                          <tr>
                              <td>{{ forloop.counter }}</td>
                              <td>{{ review.participant.username }}</td>
                              <td>{{ review.activity.title }}</td>
                              <td>{{ review.description }}</td>
                              <td>{{ review.score }}</td>
                              <td>{{ review.created_at|date:"Y-m-d H:i" }}</td>
                              <td>
                                  <button class="btn btn-danger btn-sm" onclick="deleteReview('{{ review.id }}', '{{ csrf_token }}')">Delete</button>
                              </td>
                          </tr>
                          {% endfor %}
                      {% else %}
                          <tr>
                              <td colspan="7" class="text-center">No reviews available</td>
                          </tr>
                      {% endif %}
                  </tbody>
              </table>
          </div>
      </div>
  </div>
{% endblock %}

{% block script %}

<script src="{% static 'js/manager_action.js' %}"></script>

{% endblock %}
